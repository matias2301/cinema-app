<ion-header class="ion-no-border">
  <ion-toolbar color="dark">

    <ion-buttons slot="start">
      <ion-button color="primary" (click)="goToLogin()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button color="primary" (click)="goToLogin()">Log in</ion-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content color="dark">
  <div class="main-container">
    <div *ngIf="error" class="error-container">            
        <ion-text>
          {{ msjError }}
        </ion-text>    
    </div>

    <div class="form-container">
      
        <h1>Create your account</h1>
        
        <form
          class="form"
          [formGroup]="validations_form"
          (ngSubmit)="onSubmitRegister(validations_form.value)"
        >
          <!-- <app-input label="Your Name"></app-input>
          <app-input label="Email"></app-input>
          <app-input type="password" label="Password"></app-input> -->
          
          <div>
            <!-- Input name -->
            <ion-item class="ion-margin-bottom">
              <ion-label
                [ngClass]="{'label-error': name_valid, 'label-light': !name_valid}"
                position="floating"
                mode="md"
              >
                Name
              </ion-label>
              <ion-input
                type="text"            
                formControlName="name"
              ></ion-input>                 
            </ion-item>

            <div
              *ngIf="name_valid"
              class="errors-container"
            >
              <ng-container *ngFor="let validation of validation_messages.name">
                <ion-text                  
                  class="error-message"                  
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                </ion-text>
              </ng-container>
            </div>
            <!-- End Input name -->

            <!-- Input username -->
            <ion-item class="ion-margin-bottom">
              <ion-label
                [ngClass]="{'label-error': username_valid, 'label-light': !username_valid}"
                position="floating"
                mode="md"
              >
                Email
              </ion-label>
              <ion-input
                type="text"            
                formControlName="email"
              ></ion-input>                 
            </ion-item>

            <div
              *ngIf="username_valid"
              class="errors-container"
            >
              <ng-container *ngFor="let validation of validation_messages.email">
                <ion-text                  
                  class="error-message"                  
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                </ion-text>
              </ng-container>
            </div>
            <!-- End Input username -->
          </div>

          <div formGroupName="matching_passwords">
            <!-- Input password -->
            <ion-item class="ion-margin-bottom">              
              <ion-label
                [ngClass]="{'label-error': password_valid, 'label-light': !password_valid}"
                position="floating"
                mode="md"
              >
                Password
              </ion-label>
              <app-show-hide-pass>
                <ion-input
                  type="password"            
                  formControlName="password"
                  [ngStyle]="{'margin-right': this.desktop ? '250px' : '0'}"
                ></ion-input>    
              </app-show-hide-pass>
            </ion-item>

            <div
              *ngIf="password_valid"
              class="errors-container"           
            >
              <ng-container *ngFor="let validation of validation_messages.password">
                <ion-text                  
                  class="error-message"                  
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                </ion-text>
              </ng-container>
            </div>
              <!-- End Input Password -->

              <!-- Input Confirm password -->
            <ion-item class="ion-margin-bottom">              
              <ion-label
                [ngClass]="{'label-error': confirmPass_valid, 'label-light': !confirmPass_valid}"
                position="floating"
                mode="md"
              >
                Confirm Pass
              </ion-label>
              <app-show-hide-pass>
                <ion-input
                  type="password"            
                  formControlName="confirmPass"
                  (keyup.enter)="onSubmitRegister(validations_form.value)"
                  [ngStyle]="{'margin-right': this.desktop ? '250px' : '0'}"
                ></ion-input>    
              </app-show-hide-pass>
            </ion-item>

            <div
              *ngIf="confirmPass_valid"
              class="errors-container"
            >
              <ng-container *ngFor="let validation of validation_messages.confirmPass">
                <ion-text                
                  class="error-message"                
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                </ion-text>
              </ng-container>
              <!-- End Input Confirm Password -->
            </div>

            <div
              *ngIf="matchingPass_valid"
              class="errors-container" 
            >
              <ng-container *ngFor="let validation of validation_messages.matching_passwords">
                <ion-text                
                  class="error-message"                
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                </ion-text>
              </ng-container>
            </div>
          </div>

          <!-- Buttom -->
            <ion-button
              expand="block"
              shape="round"
              type="submit"
          >Create</ion-button>
          <!-- End Buttom --> 

        </form>
        <!-- End Form -->
                
        <p>By pressing 'Create' you agree to our terms & conditions.</p>    
      
    </div>
  </div>
</ion-content>