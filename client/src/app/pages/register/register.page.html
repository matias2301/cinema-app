<ion-header class="ion-no-border">
  <ion-toolbar color="dark">

    <ion-buttons slot="start">
      <ion-button color="primary" (click)="goToLogin()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button color="primary" (click)="goToLogin()">Log in</ion-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content class="animated" color="dark">
  <div class="main-container">
    <div *ngIf="error" class="error-container">            
        <ion-text>
          {{ msjError }}
        </ion-text>    
    </div>

    <div class="form-container">
      
        <h1>Create your account</h1>
        
        <form
          class="form"
          [formGroup]="validations_form"
          (ngSubmit)="onSubmitRegister(validations_form.value)"
        >
          <!-- <app-input label="Your Name"></app-input>
          <app-input label="Email"></app-input>
          <app-input type="password" label="Password"></app-input> -->
          
          <div>
            <!-- Input name -->
            <ion-item class="ion-margin-bottom">
              <ion-label
              [ngClass]="{'label-error': name_valid, 'label-light': !name_valid}"
                position="floating"
              >
                Name
              </ion-label>
              <ion-input
                type="text"            
                formControlName="name"
              ></ion-input>                 
            </ion-item>

            <ng-container *ngFor="let validation of validation_messages.name">
              <ion-text
                style="display:block;float: none; width: 100%"
                class="error-message"
                *ngIf="name_valid"
              >
                <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
              </ion-text>
            </ng-container>
            <!-- End Input name -->

            <!-- Input username -->
            <ion-item class="ion-margin-bottom">
              <ion-label
              [ngClass]="{'label-error': username_valid, 'label-light': !username_valid}"
                position="floating"
              >
                UserName
              </ion-label>
              <ion-input
                type="text"            
                formControlName="email"
              ></ion-input>                 
            </ion-item>

            <ng-container *ngFor="let validation of validation_messages.email">
              <ion-text
                style="display:block;float: none; width: 100%"
                class="error-message"
                *ngIf="username_valid"
              >
                <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
              </ion-text>
            </ng-container>
            <!-- End Input username -->
          </div>

          <div formGroupName="matching_passwords">
            <!-- Input password -->
            <ion-item class="ion-margin-bottom">
              <app-show-hide-pass>
                <ion-label
                [ngClass]="{'label-error': password_valid, 'label-light': !password_valid}"
                  position="floating"
                >
                  Password
                </ion-label>
                <ion-input
                  type="password"            
                  formControlName="password"
                ></ion-input>    
              </app-show-hide-pass>
            </ion-item>

            <ng-container *ngFor="let validation of validation_messages.password">
              <ion-text
                style="display:block;float: none; width: 100%"
                class="error-message"
                *ngIf="password_valid"
              >
                <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
              </ion-text>
            </ng-container>
            <!-- End Input Password -->

            <!-- Input Confirm password -->
            <ion-item class="ion-margin-bottom">
              <app-show-hide-pass>
                <ion-label
                [ngClass]="{'label-error': confirmPass_valid, 'label-light': !confirmPass_valid}"
                  position="floating"
                >
                  Confirm Password
                </ion-label>
                <ion-input
                  type="password"            
                  formControlName="confirmPass"
                ></ion-input>    
              </app-show-hide-pass>
            </ion-item>

            <ng-container *ngFor="let validation of validation_messages.confirmPass">
              <ion-text
                style="display:block;float: none; width: 100%"
                class="error-message"
                *ngIf="confirmPass_valid"
              >
                <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
              </ion-text>
            </ng-container>
            <!-- End Input Confirm Password -->
          </div>

          <div>
            <ng-container *ngFor="let validation of validation_messages.matching_passwords">
              <ion-text              
                style="display:block;float: none; width: 100%"
                class="error-message"
                *ngIf="matchingPass_valid"
              >
                <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
              </ion-text>
            </ng-container>
          </div>
          <!-- *ngIf="validations_form.get('matching_passwords').hasError(validation.type) && (validations_form.get('matching_passwords').get('confirm_password').dirty || validations_form.get('matching_passwords').get('confirm_password').touched)" -->
          

          <!-- Buttom -->
            <ion-button
              expand="block"
              shape="round"
              type="submit"
          >Create</ion-button>
          <!-- End Buttom --> 

        </form>
        <!-- End Form -->
                
        <p>By pressing 'Join Us' you agree to <br />our terms & conditions.</p>    
      
    </div>
  </div>
</ion-content>